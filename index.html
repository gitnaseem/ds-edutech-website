<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="DS_EDUTECH - Smart Learning for a Digital Future. Learn Science and Arts subjects for board-level students with State Boards and CBSE support.">
  <meta name="keywords" content="online learning, Science, Arts, CBSE, State Board, education, board exams">
  <meta name="author" content="DS_EDUTECH">
  <meta property="og:title" content="DS_EDUTECH - Smart Learning for a Digital Future">
  <meta property="og:description" content="Professional online learning platform for Science and Arts subjects">
  <meta property="og:type" content="website">
  <title>DS_EDUTECH - Smart Learning for a Digital Future</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <!-- Header & Navigation -->
  <header>
    <nav>
      <div class="logo">DS_EDUTECH</div>
      <button class="menu-toggle" id="menuToggle">‚ò∞</button>
      <ul class="nav-links" id="navLinks">
        <li><a href="index.html" class="active">Home</a></li>
        <li><a href="results.html">Our Results</a></li>
        <li><a href="courses.html">Courses</a></li>
        <li><a href="about.html">About</a></li>
        <li><a href="contact.html">Contact</a></li>
        <li><button class="btn-login" onclick="window.location.href='login.html'">Login/Signup</button></li>
      </ul>
    </nav>
  </header>

  <!-- Hero Section -->
  <section class="hero">
    <div class="hero-content">
      <h1 id="heroHeading">Smart Learning for a <span class="gradient-text">Digital Future</span></h1>
      <p id="heroDescription">Master Science and Arts subjects with our interactive platform designed for board-level students. Learn from expert educators, practice with real exam questions, and achieve your academic goals.</p>
      <div class="cta-buttons">
        <button class="btn-primary" id="heroPrimaryBtn" onclick="document.getElementById('coursesSection').scrollIntoView({behavior: 'smooth'})">Start Learning Today</button>
        <button class="btn-secondary" id="heroSecondaryBtn" onclick="window.location.href='about.html'">Explore More</button>
      </div>
    </div>
  </section>

  <!-- Our Results Section -->
  <section class="results section" style="background-color: var(--light-color);">
    <div class="container">
      <h2 class="section-title">Our Results</h2>
      <p class="section-subtitle">Celebrating the success stories of our brilliant students</p>
      
      <div id="homeResultsGrid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem; margin-top: 2rem;">
        <div style="text-align: center; padding: 2rem; color: #999;">
          <p>Loading student results...</p>
        </div>
      </div>

      <div style="text-align: center; margin-top: 2rem;">
        <a href="results.html" class="btn-primary" style="display: inline-block; padding: 0.8rem 2rem; text-decoration: none;">View All Results ‚Üí</a>
      </div>
    </div>
  </section>

  <!-- Featured Classes Section with Courses -->
  <section class="subjects section" id="coursesSection">
    <div class="container">
      <h2 class="section-title">Featured Classes</h2>
      <p class="section-subtitle">Explore our comprehensive courses organized by class level</p>
      <div id="featuredClassesContainer">
        <!-- Skeleton loaders while loading -->
        <div style="margin-bottom: 3rem;">
          <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1.5rem;">
            <div style="width: 2rem; height: 2rem; background: #e0e0e0; border-radius: 50%; animation: pulse 1.5s infinite;"></div>
            <div style="flex: 1;">
              <div style="height: 1.5rem; background: #e0e0e0; border-radius: 4px; width: 150px; animation: pulse 1.5s infinite;"></div>
              <div style="height: 0.8rem; background: #f0f0f0; border-radius: 4px; width: 300px; margin-top: 0.5rem; animation: pulse 1.5s infinite;"></div>
            </div>
          </div>
          <div class="grid" style="grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 1.5rem;">
            <div style="height: 320px; background: #f5f5f5; border-radius: 8px; animation: pulse 1.5s infinite;"></div>
            <div style="height: 320px; background: #f5f5f5; border-radius: 8px; animation: pulse 1.5s infinite;"></div>
            <div style="height: 320px; background: #f5f5f5; border-radius: 8px; animation: pulse 1.5s infinite;"></div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <style>
    @keyframes pulse {
      0%, 100% { opacity: 0.6; }
      50% { opacity: 1; }
    }
  </style>

  <!-- Board Coverage Section -->
  <section class="boards section" style="background-color: var(--light-color);">
    <div class="container">
      <h2 class="section-title">Board Coverage</h2>
      <p class="section-subtitle">Tailored curriculum for State Boards and CBSE</p>
      <div class="grid grid-2">
        <!-- CBSE Board -->
        <div class="board-item">
          <h3>CBSE Board</h3>
          <p>Complete curriculum aligned with Central Board of Secondary Education standards.</p>
          <ul class="board-features">
            <li>Classes VI to XII</li>
            <li>NCERT-aligned content</li>
            <li>JEE/NEET preparation</li>
            <li>Sample papers & solutions</li>
            <li>Video explanations</li>
            <li>Doubt clearing sessions</li>
          </ul>
        </div>

        <!-- State Boards -->
        <div class="board-item">
          <h3>State Boards</h3>
          <p>Comprehensive coverage for all major state education boards across India.</p>
          <ul class="board-features">
            <li>Multi-state support</li>
            <li>Regional curriculum</li>
            <li>State board exams</li>
            <li>Local language support</li>
            <li>Competitive exams prep</li>
            <li>Expert guidance</li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- Why Choose DS_EDUTECH (Benefits) Section -->
  <section class="benefits section">
    <div class="container">
      <h2 class="section-title">Why Choose DS_EDUTECH?</h2>
      <p class="section-subtitle">Experience the future of learning</p>
      <div class="grid">
        <div class="benefit-card">
          <div class="benefit-icon">‚ö°</div>
          <h3>Fast & Efficient</h3>
          <p>Lightning-fast learning platform optimized for smooth performance. Access content instantly without delays or buffering.</p>
        </div>

        <div class="benefit-card">
          <div class="benefit-icon">üì±</div>
          <h3>Mobile-Friendly</h3>
          <p>Learn anywhere, anytime on any device. Our responsive design ensures perfect learning experience on phones and tablets.</p>
        </div>

        <div class="benefit-card">
          <div class="benefit-icon">üë®‚Äçüè´</div>
          <h3>Expert Instructors</h3>
          <p>Learn from highly qualified educators with years of board exam preparation experience and proven track records.</p>
        </div>

        <div class="benefit-card">
          <div class="benefit-icon">üìä</div>
          <h3>Progress Tracking</h3>
          <p>Detailed analytics and performance reports help you identify strengths and work on weak areas effectively.</p>
        </div>

        <div class="benefit-card">
          <div class="benefit-icon">üéØ</div>
          <h3>Exam-Focused</h3>
          <p>Carefully curated content directly aligned with board exam patterns. Practice with previous year papers and mock tests.</p>
        </div>

        <div class="benefit-card">
          <div class="benefit-icon">üí¨</div>
          <h3>Community Support</h3>
          <p>Connect with peers, ask doubts, and learn together in our supportive community of thousands of students.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Stats Section -->
  <section class="stats">
    <div class="container">
      <div class="stats-grid">
        <div class="stat-item">
          <h3 id="statStudents">50,000+</h3>
          <p>Active Students</p>
        </div>
        <div class="stat-item">
          <h3 id="statInstructors">200+</h3>
          <p>Expert Instructors</p>
        </div>
        <div class="stat-item">
          <h3 id="statLessons">1000+</h3>
          <p>Video Lessons</p>
        </div>
        <div class="stat-item">
          <h3 id="statSuccess">95%</h3>
          <p>Success Rate</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Student Testimonials Section -->
  <section class="testimonials section" style="background-color: var(--light-color);">
    <div class="container">
      <h2 class="section-title">Student Testimonials</h2>
      <p class="section-subtitle">Hear from students who achieved their goals with DS_EDUTECH</p>
      <div class="grid">
        <!-- Testimonial 1 -->
        <div class="testimonial-card">
          <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
          <p class="testimonial-text">"DS_EDUTECH helped me score 96% in my board exams! The structured approach and expert guidance made complex topics so easy to understand."</p>
          <div class="student-info">
            <div class="student-avatar">RS</div>
            <div class="student-details">
              <h4>Rishika Sharma</h4>
              <p>CBSE Class XII</p>
            </div>
          </div>
        </div>

        <!-- Testimonial 2 -->
        <div class="testimonial-card">
          <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
          <p class="testimonial-text">"The mock tests were incredibly helpful for my exam preparation. I improved my marks significantly within just 3 months of joining."</p>
          <div class="student-info">
            <div class="student-avatar">AK</div>
            <div class="student-details">
              <h4>Aditya Kumar</h4>
              <p>State Board Class XI</p>
            </div>
          </div>
        </div>

        <!-- Testimonial 3 -->
        <div class="testimonial-card">
          <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
          <p class="testimonial-text">"The doubt clearing sessions are amazing! I could clear all my misconceptions and became confident before my exams. Highly recommended!"</p>
          <div class="student-info">
            <div class="student-avatar">PD</div>
            <div class="student-details">
              <h4>Priya Desai</h4>
              <p>CBSE Class X</p>
            </div>
          </div>
        </div>

        <!-- Testimonial 4 -->
        <div class="testimonial-card">
          <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
          <p class="testimonial-text">"The video explanations are clear and concise. I don't have to spend hours studying. Quality over quantity - that's what I love about DS_EDUTECH!"</p>
          <div class="student-info">
            <div class="student-avatar">VJ</div>
            <div class="student-details">
              <h4>Vikram Jain</h4>
              <p>CBSE Class XII</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Call to Action Section -->
  <section class="hero" style="background: linear-gradient(135deg, var(--primary-color), var(--secondary-color)); padding: 4rem 2rem;">
    <div class="hero-content" style="color: white;">
      <h2 style="color: white; font-size: 2.5rem; margin-bottom: 1rem;">Ready to Start Your Learning Journey?</h2>
      <p style="color: rgba(255,255,255,0.9); font-size: 1.1rem;">Join thousands of students already achieving their academic goals with DS_EDUTECH.</p>
      <div class="cta-buttons">
        <button class="btn-primary" onclick="window.location.href='login.html'" style="background-color: white; color: var(--primary-color);">Start Learning Today</button>
        <button class="btn-secondary" onclick="window.location.href='contact.html'" style="border-color: white; color: white;">Get in Touch</button>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <div class="footer-content">
      <div class="footer-section">
        <h4>DS_EDUTECH</h4>
        <p>Smart Learning for a Digital Future. Empowering students to achieve their academic goals.</p>
      </div>

      <div class="footer-section">
        <h4>Quick Links</h4>
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="courses.html">Courses</a></li>
          <li><a href="about.html">About Us</a></li>
          <li><a href="contact.html">Contact</a></li>
        </ul>
      </div>

      <div class="footer-section">
        <h4>Subjects</h4>
        <ul>
          <li><a href="courses.html?stream=science">Science</a></li>
          <li><a href="courses.html?stream=arts">Arts</a></li>
          <li><a href="courses.html?stream=commerce">Commerce</a></li>
          <li><a href="courses.html">All Courses</a></li>
        </ul>
      </div>

      <div class="footer-section">
        <h4>Support</h4>
        <ul>
          <li><a href="#">FAQ</a></li>
          <li><a href="#">Help Center</a></li>
          <li><a href="#">Privacy Policy</a></li>
          <li><a href="#">Terms & Conditions</a></li>
        </ul>
      </div>
    </div>

    <div class="footer-bottom">
      <p>&copy; 2024 DS_EDUTECH. All rights reserved. | Designed with ‚ù§Ô∏è for Students</p>
    </div>
  </footer>

  <script src="js/firebase-config.js"></script>
  <script src="js/script.js"></script>
  <script>
    // Load theme colors from Firebase (with localStorage fallback)
    async function loadThemeColors() {
      let savedTheme = null;
      
      // Try Firebase first
      try {
        if (navigator.onLine) {
          const firebaseUrl = 'https://ds-edutech-default-rtdb.firebaseio.com/data/adminThemeColors.json';
          const response = await fetch(firebaseUrl);
          if (response.ok) {
            const firebaseData = await response.json();
            if (firebaseData && firebaseData.value) {
              savedTheme = firebaseData.value;
              // Update localStorage with Firebase data
              localStorage.setItem('adminThemeColors', JSON.stringify(savedTheme));
              console.log('‚úÖ Loaded theme colors from Firebase');
            }
          }
        }
      } catch (error) {
        console.log('‚ö†Ô∏è Firebase load failed for theme, using localStorage');
      }
      
      // Fallback to localStorage
      if (!savedTheme) {
        const stored = localStorage.getItem('adminThemeColors');
        if (stored) {
          savedTheme = JSON.parse(stored);
          console.log('üìö Loaded theme colors from localStorage');
        }
      }
      
      // Apply theme colors
      if (savedTheme) {
        document.documentElement.style.setProperty('--primary-color', savedTheme.primary);
        document.documentElement.style.setProperty('--secondary-color', savedTheme.secondary);
      }
    }
    
    // Load theme before rendering
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', function() {
        loadThemeColors();
        loadFeaturedClasses();
      });
    } else {
      loadThemeColors();
      loadFeaturedClasses();
    }

    // Load Featured Classes with Course Content grouped by class
    async function loadFeaturedClasses() {
      let courses = null;
      
      // Try localStorage first (synchronous, immediate display)
      const stored = localStorage.getItem('adminCourses');
      if (stored) {
        try {
          courses = JSON.parse(stored);
          console.log('üìö Loaded courses from localStorage');
          // Render immediately from cache
          renderFeaturedClasses(courses);
        } catch (error) {
          console.log('Error parsing cached courses:', error);
        }
      } else {
        // If no cached data, show placeholder
        renderFeaturedClasses([]);
      }
      
      // Then try Firebase in background to get latest
      try {
        if (navigator.onLine) {
          const firebaseUrl = 'https://ds-edutech-default-rtdb.firebaseio.com/data/adminCourses.json';
          const response = await fetch(firebaseUrl);
          if (response.ok) {
            const firebaseData = await response.json();
            if (firebaseData && firebaseData.value) {
              courses = firebaseData.value;
              localStorage.setItem('adminCourses', JSON.stringify(courses));
              console.log('‚úÖ Loaded courses from Firebase');
              // Re-render with fresh data if different from cache
              renderFeaturedClasses(courses);
            }
          }
        }
      } catch (error) {
        console.log('‚ö†Ô∏è Firebase load failed, using cached data');
      }
    }
    
    // Render Featured Classes with Course Content
    function renderFeaturedClasses(courses) {
      if (!courses) courses = [];
      
      // Get unique classes from courses
      let classes = [];
      if (courses && courses.length > 0) {
        const uniqueClasses = new Set();
        courses.forEach(course => {
          if (course.category) {
            uniqueClasses.add(course.category);
          }
        });
        classes = Array.from(uniqueClasses);
      }
      
      // Sort classes in correct order
      const classOrder = ['9th Class', '10th Class', '11th Class', '12th Class'];
      classes = classes.filter(c => classOrder.includes(c)).sort((a, b) => {
        return classOrder.indexOf(a) - classOrder.indexOf(b);
      });
      
      // Create featured section with courses grouped by class
      const container = document.getElementById('featuredClassesContainer');
      let html = '';
      
      const classIcons = {
        '9th Class': 'üéì',
        '10th Class': 'üìñ',
        '11th Class': 'üöÄ',
        '12th Class': 'üèÜ'
      };
      
      const classDescriptions = {
        '9th Class': 'Foundation level courses covering basics of all subjects',
        '10th Class': 'Board exam preparation with comprehensive course materials',
        '11th Class': 'Stream-specific courses for Science, Arts, and Commerce',
        '12th Class': 'Final year preparation with advanced topics and exam practice'
      };
      
      // Build HTML for each class with its courses
      classes.forEach(className => {
        const coursesInClass = courses.filter(c => c.category === className);
        
        html += `
          <div style="margin-bottom: 3rem;">
            <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1.5rem;">
              <span style="font-size: 2rem;">${classIcons[className] || 'üìö'}</span>
              <div>
                <h3 style="margin: 0; color: var(--primary-color);">${className}</h3>
                <p style="margin: 0.5rem 0 0 0; color: #666; font-size: 0.9rem;">${classDescriptions[className]}</p>
              </div>
            </div>
        `;
        
        if (coursesInClass.length === 0) {
          html += `
            <div style="padding: 2rem; background-color: var(--light-color); border-radius: 8px; text-align: center; color: #999;">
              <p>No courses available for this class yet. Check back soon!</p>
            </div>
          `;
        } else {
          html += `
            <div class="grid" style="grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 1.5rem;">
          `;
          
          coursesInClass.forEach(course => {
            const imageContent = course.image 
              ? `<img src="${course.image}" style="width: 100%; height: 180px; object-fit: cover; border-radius: 8px 8px 0 0;">`
              : `<div style="width: 100%; height: 180px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); display: flex; align-items: center; justify-content: center; border-radius: 8px 8px 0 0;"><span style="font-size: 3rem;">üìö</span></div>`;
            
            html += `
              <div class="course-card">
                ${imageContent}
                <div class="course-content">
                  <span class="course-level">${course.level}</span>
                  <h4 style="margin: 0.8rem 0 0.5rem 0; color: #333;">${course.title}</h4>
                  <p style="margin: 0; font-size: 0.9rem; color: #666; line-height: 1.5;">${course.description}</p>
                  <div class="course-meta" style="margin-top: 1rem;">
                    <span>üìö ${course.videos} Videos</span>
                    <span>‚è±Ô∏è ${course.hours} Hours</span>
                  </div>
                  <button class="btn-learn" style="margin-top: 1rem; width: 100%;">Learn More</button>
                </div>
              </div>
            `;
          });
          
          html += `</div>`;
        }
        
        html += `</div>`;
      });
      
      // If no classes have courses, show message
      if (classes.length === 0) {
        html = `
          <div style="padding: 3rem; text-align: center; color: #999;">
            <p style="font-size: 1.1rem;">üöÄ Exciting courses coming soon!</p>
            <p>Our expert team is preparing comprehensive courses for all classes.</p>
          </div>
        `;
      }
      
      container.innerHTML = html;
    }

    // Reload featured classes if courses are added/updated
    window.addEventListener('storage', function(e) {
      if (e.key === 'adminCourses') {
        loadFeaturedClasses();
      }
    });

    // Apply saved text styles
    function applyTextStyles() {
      const SECTION_SELECTORS = {
        hero: '.hero, .hero-content, .hero h1, .hero p',
        courses: '.subjects, .subject-card, .subject-card h3, .subject-card p',
        about: '.about, .about-section, .about h2, .about p',
        contact: '.contact, .contact-section, .contact h2, .contact p',
        testimonials: '.testimonials, .testimonial-item, .testimonial-item h3, .testimonial-item p',
        header: 'header, nav, .nav-links a, .logo',
        footer: 'footer, .footer-content, .footer-section, .footer-section a'
      };

      Object.keys(SECTION_SELECTORS).forEach(section => {
        const styles = JSON.parse(localStorage.getItem(`textStyles_${section}`));
        if (!styles) return;

        const selectors = SECTION_SELECTORS[section];
        let styleTag = document.getElementById(`textStyle_${section}`);
        if (!styleTag) {
          styleTag = document.createElement('style');
          styleTag.id = `textStyle_${section}`;
          document.head.appendChild(styleTag);
        }

        let cssRule = `${selectors} { color: ${styles.color} !important; font-size: ${styles.size}px !important; font-family: ${styles.fontFamily || "'Segoe UI', Tahoma, Geneva, Verdana, sans-serif"} !important;`;
        if (styles.bold) cssRule += ' font-weight: bold !important;';
        if (styles.italic) cssRule += ' font-style: italic !important;';
        if (styles.underline) cssRule += ' text-decoration: underline !important;';
        cssRule += ` text-align: ${styles.alignment} !important; }`;
        styleTag.innerHTML = cssRule;
      });
    }

    document.addEventListener('DOMContentLoaded', applyTextStyles);

    // Load hero content from Firebase (with localStorage fallback)
    async function loadHeroContent() {
      const defaultHero = {
        title: 'Smart Learning for a Digital Future',
        subtitle: 'Master Science and Arts subjects with our interactive platform designed for board-level students. Learn from expert educators, practice with real exam questions, and achieve your academic goals.',
        primaryButtonText: 'Start Learning Today',
        secondaryButtonText: 'Explore More'
      };

      let hero = null;
      
      // Try Firebase first
      try {
        if (navigator.onLine) {
          const firebaseUrl = 'https://ds-edutech-default-rtdb.firebaseio.com/data/adminHero.json';
          const response = await fetch(firebaseUrl);
          if (response.ok) {
            const firebaseData = await response.json();
            if (firebaseData && firebaseData.value) {
              hero = firebaseData.value;
              // Update localStorage with Firebase data
              localStorage.setItem('adminHero', JSON.stringify(hero));
              console.log('‚úÖ Loaded hero data from Firebase');
            }
          }
        }
      } catch (error) {
        console.log('‚ö†Ô∏è Firebase load failed, using localStorage');
      }
      
      // Fallback to localStorage
      if (!hero) {
        const stored = localStorage.getItem('adminHero');
        hero = stored ? JSON.parse(stored) : defaultHero;
        if (stored) {
          console.log('üìö Loaded hero data from localStorage');
        }
      }

      // Update hero section
      const headingElement = document.getElementById('heroHeading');
      const descriptionElement = document.getElementById('heroDescription');
      const primaryBtnElement = document.getElementById('heroPrimaryBtn');
      const secondaryBtnElement = document.getElementById('heroSecondaryBtn');

      if (headingElement) {
        // Split the title to handle gradient text
        const titleParts = hero.title.split('Digital Future');
        if (titleParts.length === 2) {
          headingElement.innerHTML = titleParts[0].trim() + '<span class="gradient-text">Digital Future</span>' + titleParts[1].trim();
        } else {
          headingElement.textContent = hero.title;
        }
      }
      if (descriptionElement) descriptionElement.textContent = hero.subtitle;
      if (primaryBtnElement) primaryBtnElement.textContent = hero.primaryButtonText;
      if (secondaryBtnElement) secondaryBtnElement.textContent = hero.secondaryButtonText;
    }

    // Load statistics from Firebase (with localStorage fallback)
    async function loadStatistics() {
      const defaultStats = {
        students: '50,000+',
        instructors: '200+',
        lessons: '1000+',
        successRate: '95%'
      };

      let stats = null;
      
      // Try Firebase first
      try {
        if (navigator.onLine) {
          const firebaseUrl = 'https://ds-edutech-default-rtdb.firebaseio.com/data/adminStatistics.json';
          const response = await fetch(firebaseUrl);
          if (response.ok) {
            const firebaseData = await response.json();
            if (firebaseData && firebaseData.value) {
              stats = firebaseData.value;
              // Update localStorage with Firebase data
              localStorage.setItem('adminStatistics', JSON.stringify(stats));
              console.log('‚úÖ Loaded statistics from Firebase');
            }
          }
        }
      } catch (error) {
        console.log('‚ö†Ô∏è Firebase load failed for statistics, using localStorage');
      }
      
      // Fallback to localStorage
      if (!stats) {
        const stored = localStorage.getItem('adminStatistics');
        if (stored) {
          stats = JSON.parse(stored);
          console.log('üìö Loaded statistics from localStorage');
        }
      }
      
      // Use defaults if no data found
      if (!stats) {
        stats = defaultStats;
      }

      // Update statistics on page
      const studentEl = document.getElementById('statStudents');
      const instructorEl = document.getElementById('statInstructors');
      const lessonEl = document.getElementById('statLessons');
      const successEl = document.getElementById('statSuccess');

      if (studentEl) studentEl.textContent = stats.students || defaultStats.students;
      if (instructorEl) instructorEl.textContent = stats.instructors || defaultStats.instructors;
      if (lessonEl) lessonEl.textContent = stats.lessons || defaultStats.lessons;
      if (successEl) successEl.textContent = stats.successRate || defaultStats.successRate;
    }

    // Load hero content when page loads
    document.addEventListener('DOMContentLoaded', loadHeroContent);
    
    // Load statistics when page loads
    document.addEventListener('DOMContentLoaded', loadStatistics);
    
    // Load home page results section
    async function loadHomeResults() {
      let results = null;
      
      // Try Firebase first
      try {
        if (navigator.onLine) {
          const firebaseUrl = 'https://ds-edutech-default-rtdb.firebaseio.com/data/studentResults.json';
          const response = await fetch(firebaseUrl);
          if (response.ok) {
            const firebaseData = await response.json();
            if (firebaseData && firebaseData.value) {
              results = firebaseData.value;
              localStorage.setItem('studentResults', JSON.stringify(results));
              console.log('‚úÖ Loaded results from Firebase');
            }
          }
        }
      } catch (error) {
        console.log('‚ö†Ô∏è Firebase load failed for results, using localStorage');
      }
      
      // Fallback to localStorage
      if (!results) {
        const stored = localStorage.getItem('studentResults');
        if (stored) {
          results = JSON.parse(stored);
          console.log('üìö Loaded results from localStorage');
        }
      }
      
      const container = document.getElementById('homeResultsGrid');
      if (!results || results.length === 0) {
        container.innerHTML = '<div style="grid-column: 1 / -1; text-align: center; padding: 2rem; color: #999;"><p>Student success stories coming soon...</p></div>';
        return;
      }

      // Show only first 3 results on home page
      const displayResults = results.slice(0, 3);
      
      let html = '';
      displayResults.forEach(result => {
        const imageContent = result.photo 
          ? `<img src="${result.photo}" alt="${result.studentName}" style="width: 100%; height: 200px; object-fit: cover;">`
          : `<div style="width: 100%; height: 200px; background: linear-gradient(135deg, var(--primary-color), var(--secondary-color)); display: flex; align-items: center; justify-content: center; color: white; font-size: 3rem;">üìö</div>`;
        
        html += `
          <div style="background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); transition: transform 0.3s ease, box-shadow 0.3s ease;">
            <div style="overflow: hidden; background: #f0f0f0;">
              ${imageContent}
            </div>
            <div style="padding: 1rem;">
              <h4 style="margin: 0 0 0.5rem 0; color: var(--dark-color); font-size: 1.1rem;">${result.studentName}</h4>
              <p style="margin: 0.25rem 0; color: #666; font-size: 0.9rem;">üìç ${result.school}</p>
              <div style="background: linear-gradient(135deg, var(--primary-color), var(--secondary-color)); color: white; padding: 0.8rem; border-radius: 8px; text-align: center; margin-top: 0.8rem;">
                <div style="font-size: 1.5rem; font-weight: bold;">${result.marks}%</div>
                <div style="font-size: 0.8rem; opacity: 0.9;">${result.board || 'Board Exam'}</div>
              </div>
            </div>
          </div>
        `;
      });

      container.innerHTML = html;
    }

    document.addEventListener('DOMContentLoaded', loadHomeResults);
    
    // Apply saved section styles if the function exists (admin dashboard only)
    document.addEventListener('DOMContentLoaded', function() {
      if (typeof applyAllSavedSectionStyles === 'function') {
        applyAllSavedSectionStyles();
      }
    });
  </script>
</body>
</html>